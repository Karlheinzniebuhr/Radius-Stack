"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var chroma = require("chroma-js");
exports.default = (function (hexBase) {
    var base = chroma(hexBase);
    var applyProxy = function (hexColor) {
        var color = chroma(hexColor);
        return new Proxy(color, {
            get: function (target, prop, receiver) {
                if (prop == 'hex') {
                    var alpha_1 = target.alpha() * 255;
                    return function () {
                        var hex = target.hex();
                        if (alpha_1 == 255 || hex.length == 9)
                            return target.hex();
                        return hex.substr(0, 7) + '0' + hex.substr(7);
                    };
                }
                if (prop == 'fade') {
                    return function (value) { return applyProxy(chroma.mix(base, color, 1 - value).hex()); };
                }
                return function () {
                    var args = [];
                    for (var _i = 0; _i < arguments.length; _i++) {
                        args[_i] = arguments[_i];
                    }
                    return applyProxy(target[prop].apply(target, args));
                };
            }
        });
    };
    return applyProxy;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sb3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvY29sb3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxrQ0FBbUM7QUFPbkMsbUJBQWUsVUFBQyxPQUFlO0lBQzdCLElBQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUM1QixJQUFNLFVBQVUsR0FBRyxVQUFDLFFBQWdCO1FBQ2xDLElBQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQTtRQUM5QixPQUFPLElBQUksS0FBSyxDQUFDLEtBQUssRUFBRTtZQUN0QixHQUFHLFlBQUUsTUFBb0IsRUFBRSxJQUFpQixFQUFFLFFBQWE7Z0JBQ3pELElBQUksSUFBSSxJQUFJLEtBQUssRUFBRTtvQkFDakIsSUFBTSxPQUFLLEdBQVksTUFBTSxDQUFDLEtBQUssRUFBVSxHQUFHLEdBQUcsQ0FBQTtvQkFDbkQsT0FBTzt3QkFDTCxJQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUE7d0JBQ3hCLElBQUksT0FBSyxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxJQUFJLENBQUM7NEJBQUUsT0FBTyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUM7d0JBQ3pELE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUE7b0JBQy9DLENBQUMsQ0FBQTtpQkFDRjtnQkFFRCxJQUFJLElBQUksSUFBSSxNQUFNLEVBQUU7b0JBQ2xCLE9BQU8sVUFBQyxLQUFLLElBQUssT0FBQSxVQUFVLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFwRCxDQUFvRCxDQUFBO2lCQUN2RTtnQkFFRCxPQUFPO29CQUFDLGNBQU87eUJBQVAsVUFBTyxFQUFQLHFCQUFPLEVBQVAsSUFBTzt3QkFBUCx5QkFBTzs7b0JBQUssT0FBQSxVQUFVLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFaLE1BQU0sRUFBVSxJQUFJLEVBQUU7Z0JBQWpDLENBQWlDLENBQUE7WUFDdkQsQ0FBQztTQUNGLENBQVEsQ0FBQTtJQUNYLENBQUMsQ0FBQTtJQUVELE9BQU8sVUFBVSxDQUFBO0FBQ25CLENBQUMsRUFBQSJ9